async function makeFetchRequest(e,o,r="POST"){try{let{userStatus:a,user_acde:s}=await new Promise(e=>{chrome.storage.local.get(["userStatus","user_acde"],function(o){e(o)})});if(!a||!s)return chrome.storage.local.clear(function(){}),"logout";o.user_acde=s,o.version=version;let t=await fetch(e,{method:r,headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify(o)});if(200!==t.status)throw Error("fail");return await t.json()}catch(e){throw console.log(e),e}}function debugLog(e){console.log("Voxels: "),console.log(e)}function handleErrors(e){if(e&&e.data&&e.data.error){switch(e.data.error){case"2001":showAlert("You've already added this location","error");break;case"2003":showAlert("You have to be ingame to add locations.","error");break;case"2006":showAlert("Currently only terravilla and farms can be added. More coming soon!","error");break;case"2007":break;case"2008":showAlert("This farm already exists at this location.","error");break;case"3006":showAlert("You have reached the maximum number of farms.","error");break;case"4006":showAlert("You have reached the maximum number of storages.","error");break;case"7001":showAlert("Too fast.","error");break;case"7002":showAlert("No new transaction found. Please retry in 10s","error");break;case"8001":displayInfo({title:"Update!",rows:[{text:"Voxels has received an update. Please reload this page."}]});break;case"8002":showAlert(e.data.text,"info");break;default:showAlert(e.data.error,"error")}return!0}return!1}function showAlert(e,o){var r=document.querySelector(".voxels-popup");r&&r.remove();var a=document.createElement("div");switch(a.className="voxels-popup",o){case"error":a.innerHTML+="<h3>Voxels Error:</h3><p>"+e+"</p>";break;case"info":a.innerHTML+="<h3>Voxels:</h3><p>"+e+"</p>",a.classList.add("voxels-popup-info");break;case"success":a.innerHTML+="<h3>Voxels:</h3><p>"+e+"</p>",a.classList.add("voxels-popup-success");break;default:a.innerHTML+="<h3>Voxels:</h3><p>"+e+"</p>"}var s=document.createElement("div");s.className="voxels-popup-close",s.innerHTML="X",a.appendChild(s),document.body.appendChild(a),s.addEventListener("click",function(){a.remove()}),setTimeout(function(){a.style.opacity="0",setTimeout(function(){a.remove()},1e3)},5e3)}function quickMessage(e,o){var r=document.querySelector(".voxels-quick-message-popup");r&&r.remove();var a=document.createElement("div");a.className="voxels-quick-message-popup voxels-"+o,a.innerHTML='<p>Voxels:</p><p class="voxels-quick-info">'+e+'</p><div class="voxels-progress-bar"></div>',document.body.appendChild(a),a.querySelector(".voxels-progress-bar").style.animation="voxels-progressBarAnimation 3s linear forwards",setTimeout(function(){a.style.animation="0.5s ease 0s 1 normal forwards running voxels-slideOut",setTimeout(function(){a.remove()},500)},3e3)}function convertArrayToObject(e){let o={};return e.forEach((e,r)=>{o[r]=e}),o}function reloadVoxels(){var e=document.querySelector(".voxels-main-container");e&&e.parentNode.removeChild(e),startLoad()}function nFormatter(e,o){let r=[{value:1,symbol:""},{value:1e3,symbol:"K"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}].findLast(o=>e>=o.value);return r?(e/r.value).toFixed(o).replace(/\.0+$|(?<=\.[0-9]*[1-9])0+$/,"").concat(r.symbol):"0"}