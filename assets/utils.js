async function makeFetchRequest(e, r, a = "POST") { try { let t = await new Promise(e => { chrome.storage.local.get(["userStatus"], function (r) { e(r.userStatus) }) }); if (!t) return "logout"; let o = await fetch(e, { method: a, headers: { "Content-Type": "application/json", "X-Requested-With": "XMLHttpRequest" }, body: JSON.stringify(r) }); if (200 !== o.status) throw Error("fail"); let s = await o.json(); return s } catch (n) { throw console.log(n), n } } function debugLog(e) { console.log("Voxels: "), console.log(e) } function handleErrors(e) { if (e && e.data && e.data.error) { switch (e.data.error) { case "2001": showAlert("You've already added this location", "error"); break; case "2003": showAlert("You have to be ingame to add locations.", "error"); break; case "2006": showAlert("Currently only terravilla and farms can be added. More coming soon!", "error"); break; case "2007": break; case "2008": showAlert("This farm already exists at this location.", "error"); break; case "3006": showAlert("You have reached the maximum number of farms. Upgrade to premium to add more.", "error"); break; case "8001": displayInfo({ title: "Update!", rows: [{ text: "Voxels has received an update. Please reload this page." }] }); break; case "8002": showAlert(e.data.text, "info"); break; default: showAlert(e.data.error, "error") }return !0 } return !1 } function showAlert(e, r) { var a = document.querySelector(".voxels-popup"); a && a.remove(); var t = document.createElement("div"); switch (t.className = "voxels-popup", r) { case "error": t.innerHTML = "<h3>Voxels Error:</h3><p>" + e + "</p>"; break; case "info": t.innerHTML = "<h3>Voxels:</h3><p>" + e + "</p>", t.style.border = "5px solid rgb(0 11 231)", t.style.background = "rgb(120 125 215)"; break; default: t.innerHTML = "<h3>Voxels:</h3><p>" + e + "</p>" }document.body.appendChild(t), setTimeout(function () { t.style.opacity = "0", setTimeout(function () { t.remove() }, 1e3) }, 5e3) }