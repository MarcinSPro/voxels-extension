async function makeFetchRequest(e,r,a="POST"){try{let{userStatus:o,user_acde:t}=await new Promise(e=>{chrome.storage.local.get(["userStatus","user_acde"],function(r){e(r)})});if(!o||!t)return chrome.storage.local.clear(function(){}),"logout";r.user_acde=t,r.version=version;let s=await fetch(e,{method:a,headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify(r)});if(200!==s.status)throw Error("fail");let l=await s.json();return l}catch(n){throw console.log(n),n}}function debugLog(e){console.log("Voxels: "),console.log(e)}function handleErrors(e){if(e&&e.data&&e.data.error){switch(e.data.error){case"2001":showAlert("You've already added this location","error");break;case"2003":showAlert("You have to be ingame to add locations.","error");break;case"2006":showAlert("Currently only terravilla and farms can be added. More coming soon!","error");break;case"2007":break;case"2008":showAlert("This farm already exists at this location.","error");break;case"3006":showAlert("You have reached the maximum number of farms.","error");break;case"4006":showAlert("You have reached the maximum number of storages.","error");break;case"7001":showAlert("Too fast.","error");break;case"7002":showAlert("No new transaction found. Please retry in 10s","error");break;case"8001":displayInfo({title:"Update!",rows:[{text:"Voxels has received an update. Please reload this page."}]});break;case"8002":showAlert(e.data.text,"info");break;default:showAlert(e.data.error,"error")}return!0}return!1}function showAlert(e,r){var a=document.querySelector(".voxels-popup");a&&a.remove();var o=document.createElement("div");switch(o.className="voxels-popup",r){case"error":o.innerHTML+="<h3>Voxels Error:</h3><p>"+e+"</p>";break;case"info":o.innerHTML+="<h3>Voxels:</h3><p>"+e+"</p>",o.classList.add("voxels-popup-info");break;case"success":o.innerHTML+="<h3>Voxels:</h3><p>"+e+"</p>",o.classList.add("voxels-popup-success");break;default:o.innerHTML+="<h3>Voxels:</h3><p>"+e+"</p>"}var t=document.createElement("div");t.className="voxels-popup-close",t.innerHTML="X",o.appendChild(t),document.body.appendChild(o),t.addEventListener("click",function(){o.remove()}),setTimeout(function(){o.style.opacity="0",setTimeout(function(){o.remove()},1e3)},5e3)}function convertArrayToObject(e){let r={};return e.forEach((e,a)=>{r[a]=e}),r}function reloadVoxels(){var e=document.querySelector(".voxels-main-container");e&&e.parentNode.removeChild(e),startLoad()}function nFormatter(e,r){let a=[{value:1,symbol:""},{value:1e3,symbol:"K"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}].findLast(r=>e>=r.value);return a?(e/a.value).toFixed(r).replace(/\.0+$|(?<=\.[0-9]*[1-9])0+$/,"").concat(a.symbol):"0"}