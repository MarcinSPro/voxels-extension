function loadPremium(){let e=document.querySelector(".voxels-main");chrome.storage.local.get("user_info",async function(a){let t=a.user_info;try{let r=await makeFetchRequest(apiURL,{name:t,operation:"getPremium"});handleErrors(r)||("logout"==r?initiate():(loadPremiumDiv(e,r.data,t),loadFeatureDiv(e)))}catch(i){console.error(i)}})}function loadPremiumDiv(e,a,t){var r=document.createElement("div");r.classList.add("voxels-main-premium","pixel-border","voxels-premium-main");var i=document.createElement("div");i.classList.add("voxels-premium-title"),i.innerText="VOXELS PREMIUM",r.appendChild(i);var n=document.createElement("div");n.classList.add("voxels-premium-content");let s=a.premium,l=a.wallet_address||!1;if(!0==s){let o=loadPremiumEnd(a.premium_end);n.appendChild(o)}let d=loadUserData(t,l);n.appendChild(d);let m=a.pixels_price,p=loadPrice(m);n.appendChild(p);var c=document.createElement("hr");c.classList.add("voxels-premium-spacer"),n.appendChild(c);let u=a.voxels_addresses;n.appendChild(loadPremiumHowTo(m,t,u)),(c=document.createElement("hr")).classList.add("voxels-premium-spacer"),n.appendChild(c),n.appendChild(loadFAQ()),n.appendChild(loadHelp()),r.appendChild(n),e.appendChild(r)}function loadPremiumEnd(e){var a=document.createElement("div");a.classList.add("voxels-premium-end");var t=new Date(1e3*e).toLocaleString();return a.innerHTML="<p>Premium active:<br><span>Ends on "+t+"</span></p>",a}function loadUserData(e,a){var t=document.createElement("div");if(t.classList.add("voxels-premium-data"),t.innerHTML+="<p>Username: <span>"+e+"</span></p>",!1===a)t.innerHTML+="<p>Your wallet: <span>Not found</span></p>";else{var r=a.replace(/^(.{5})(.*)(.{5})$/,"$1...$3");t.innerHTML+="<p>Your wallet: <span>"+r+"</span></p>"}return t}function loadPrice(e){var a=document.createElement("div");return a.classList.add("voxels-premium-price"),a.innerHTML="<p>Premium (1 Month): <span><img class='pixels-icon' src='"+chrome.runtime.getURL("images/Other/Pixel.png")+"'>"+e+"</span></p>",a}function loadPremiumHowTo(e,a,t){var r=document.createElement("div");r.classList.add("voxels-premium-info"),r.innerHTML="<p>How to get Premium:</p><p><span>Send <img class='pixels-icon' src='"+chrome.runtime.getURL("images/Other/Pixel.png")+"'>"+e+" from your wallet connected to <span style='color: var(--main-new-bg);'>"+a+"</span> to:</span></p>";var i=document.createElement("p");i.classList.add("voxels-premium-copy"),i.setAttribute("id","voxels-copy"),i.innerHTML=t.rns+"<img src='"+chrome.runtime.getURL("images/icons/icon__copy.svg")+"' alt='Copy Icon'>",r.appendChild(i),i.addEventListener("click",function(){var e=document.createElement("textarea");e.value=t.rns,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e);var a=document.createElement("div");a.classList.add("voxels-hover-box"),a.textContent="Copied!",document.body.appendChild(a);var r=i.getBoundingClientRect();a.style.position="absolute",a.style.top=r.top-a.offsetHeight+"px",a.style.left=r.left+"px",setTimeout(function(){document.body.removeChild(a)},2e3)});var n=document.createElement("p");n.classList.add("voxels-premium-copy");let s=t.base.replace(/^(.{6})(.*)(.{6})$/,"$1...$3");n.innerHTML="<span>"+s+"</span>",r.appendChild(n);var l=document.createElement("p");l.innerHTML="<span>After sending $PIXEL click:</span>",r.appendChild(l);var o=document.createElement("p");o.classList.add("voxels-premium-reload"),o.innerHTML="Claim Premium<img src='"+chrome.runtime.getURL("images/icons/icon__refresh.svg")+"' alt='Refresh Icon'>",r.appendChild(o);var d=0;return o.addEventListener("click",function(){var e=Date.now();if(e-d<1e4){showAlert("Please wait 10s before retrying.","error");return}d=e,o.disabled=!0,setTimeout(function(){o.disabled=!1},1e4),checkPremium(a)}),r}async function checkPremium(e){try{let a=await makeFetchRequest(apiURL,{name:e,operation:"checkPremium"});handleErrors(a)||("logout"==a?initiate():"paid"==a.data&&(showAlert("Successfully claimed Premium! Reload play.pixels.xyz","success"),reloadVoxels()))}catch(t){console.error(t)}}function loadFAQ(){var e=document.createElement("div");e.classList.add("voxels-premium-faq");var a=document.createElement("p");a.innerHTML="FAQ",e.appendChild(a);var t=[["How to renew Premium?",'Every time you send $PIXEL and click "Claim Premium" your Premium will be prolonged by another 30 days.'],["I sent $PIXEL but didn't receive premium?",'Check that your transaction has settled and click "Claim Premium". If you haven\'t received premium after 5 minutes contact us on <a href="https://discord.gg/jKnhzscVn3" target="_blank">Discord</a>'],["Why has the $PIXEL amount changed?","As the market situation can be rather volatile we aim to keep the premium price for Voxels stable."]],r=document.createElement("ol");for(let i=0;i<t.length;i++){var n=document.createElement("li"),a=t[i][0],s=t[i][1];n.appendChild(document.createTextNode(a));var l=document.createElement("span");l.innerHTML="<br>"+s,n.appendChild(l),r.appendChild(n)}return e.appendChild(r),e}function loadHelp(){var e=document.createElement("div");e.classList.add("voxels-premium-help");var a=document.createElement("a");a.href="https://discord.gg/jKnhzscVn3",a.target="_blank",a.innerHTML='<img src="'+chrome.runtime.getURL("images/icons/icon__discord.svg")+'" alt="Discord Icon">',e.appendChild(a);var t=document.createElement("a");return t.href="https://twitter.com/VoxelsExtension",t.target="_blank",t.innerHTML='<img src="'+chrome.runtime.getURL("images/icons/icon__X.svg")+'" alt="X Icon">',e.appendChild(t),e}function loadFeatureDiv(e){var a=document.createElement("div");a.classList.add("voxels-main-premium","pixel-border","voxels-premium-feature");var t=document.createElement("div");t.classList.add("voxels-premium-title"),t.innerText="Premium features",a.appendChild(t);var r=document.createElement("div");r.classList.add("voxels-premium-content");var i=[["50 Plots","Add up to 50 plots/locations to track farm timers (more timers coming soon: trees etc.).","timers.png"],["20 Storages","Track 20 storages and view their contents from anywhere!","storages.png"],["Auto-Detect collecting","Voxels automatically starts the timer for your farm. Make sure to add the location first."],["Total tasks cost","View the total cost of your task, if you would buy the items on the market place.","task_cost.png"],["Display tasks","Track your current tasks for Hazel from anywhere!","tasks_display.png"],["Discord Premium","Get a special premium role on the Voxels discord and take part in premium events!"]],n=document.createElement("ol");for(let s=0;s<i.length;s++){var l=document.createElement("li"),o=i[s][0],d=i[s][1],m=i[s][2];if(l.appendChild(document.createTextNode(o)),m){var p=document.createElement("img");p.src=chrome.runtime.getURL("images")+"/Premium/"+m,p.classList.add("voxels-premium-feature-image"),l.appendChild(p);var c=document.createElement("span");c.innerHTML=d,l.appendChild(c)}else{var c=document.createElement("span");c.innerHTML="<br>"+d,l.appendChild(c)}n.appendChild(l)}r.appendChild(n),a.appendChild(r),e.appendChild(a)}